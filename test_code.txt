CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DETR_COCO_all --data_dir ../mmdetection_at/pro_data/detr/ --model_data_type DETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 10000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --enable_wandb >logs/ViT_DETR_COCO_all.logs 2>logs/ViT_DETR_COCO_all.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DETR_COCO_all --data_dir ../mmdetection_at/pro_data/detr/ --model_data_type DETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 10000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DETR_COCO_all --data_dir ../mmdetection_at/pro_data/detr/ --model_data_type DETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 0 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50  --load_trained --trained_dir ./output/ViT_DETR_COCO_all_checkpoint_30000.bin --init_step 30000 --enable_wandb  >logs/ViT_DETR_COCO_all.logs 2>logs/ViT_DETR_COCO_all.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DFDETR_COCO_all --data_dir ../mmdetection_at/pro_data/DFDETR_COCO/ --model_data_type DFDETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_16 --pretrained_dir ../ViT_ckpts/ViT-B_16.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 10000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 196 --enable_wandb >logs/ViT_DFDETR_COCO_all.logs 2>logs/ViT_DFDETR_COCO_all.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DFDETR_COCO_all --data_dir ../mmdetection_at/pro_data/DFDETR_COCO/ --model_data_type DFDETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_16 --pretrained_dir ../ViT_ckpts/ViT-B_16.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 0 --learning_rate 0.015 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 196 --enable_wandb --load_trained --trained_dir ./output/ViT_DFDETR_COCO_all_checkpoint_50000.bin --init_step 50000 >logs/ViT_DFDETR_COCO_all.logs 2>logs/ViT_DFDETR_COCO_all.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DFDETR_COCO_32_all --data_dir ../mmdetection_at/pro_data/DFDETR_COCO/ --model_data_type DFDETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 10000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 196 --enable_wandb >logs/ViT_DFDETR_COCO_32_all.logs 2>logs/ViT_DFDETR_COCO_32_all.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DFDETR_COCO_32_all --data_dir ../mmdetection_at/pro_data/DFDETR_COCO/ --model_data_type DFDETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 0 --learning_rate 0.0279 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 196 --enable_wandb --load_trained --trained_dir ./output/ViT_DFDETR_COCO_32_all_checkpoint_30000.bin --init_step 30000 >logs/ViT_DFDETR_COCO_32_all.logs 2>logs/ViT_DFDETR_COCO_32_all.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DFDETR_COCO_100_all --data_dir ../mmdetection_at/pro_data/DFDETR_COCO_100/ --model_data_type DFDETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 0 --learning_rate 0.028 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 100 --enable_wandb --load_trained --trained_dir ./output/ViT_DFDETR_COCO_100_all_checkpoint_30000.bin --init_step 30000 --enable_wandb >logs/ViT_DFDETR_COCO_100_all.logs 2>logs/ViT_DFDETR_COCO_100_all.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DFDETR_COCO_289_all --data_dir ../mmdetection_at/pro_data/DFDETR_COCO_289/ --model_data_type DFDETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 0 --learning_rate 0.028 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 289 --enable_wandb --load_trained --trained_dir ./output/ViT_DFDETR_COCO_289_all_checkpoint_30000.bin --init_step 30000 >logs/ViT_DFDETR_COCO_289_all.logs 2>logs/ViT_DFDETR_COCO_289_all.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DFDETR_COCO_100_all --data_dir ../mmdetection_at/pro_data/DFDETR_COCO_100/ --model_data_type DFDETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 10000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 100 --enable_wandb >logs/ViT_DFDETR_COCO_100_all.logs 2>logs/ViT_DFDETR_COCO_100_all.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DFDETR_COCO_289_all --data_dir ../mmdetection_at/pro_data/DFDETR_COCO_289/ --model_data_type DFDETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 10000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 289 --enable_wandb >logs/ViT_DFDETR_COCO_289_all.logs 2>logs/ViT_DFDETR_COCO_289_all.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DINO_COCO_all --data_dir ../mmdetection_at/pro_data/DINO_COCO/ --model_data_type DINO_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 10000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 196 --enable_wandb >logs/ViT_DINO_COCO_all.logs 2>logs/ViT_DINO_COCO_all.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DINO_COCO_all --data_dir ../mmdetection_at/pro_data/DINO_COCO/ --model_data_type DINO_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 0 --learning_rate 0.0279 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 196 --enable_wandb --load_trained --trained_dir ./output/ViT_DINO_COCO_all_checkpoint_30000.bin --init_step 30000 >logs/ViT_DINO_COCO_all.logs 2>logs/ViT_DINO_COCO_all.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DETR_COCO_image --data_dir ../mmdetection_at/pro_data/DETR_COCO/ --model_data_type DETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range image --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 10000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 100 --enable_wandb >logs/ViT_DETR_COCO_image.logs 2>logs/ViT_DETR_COCO_image.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_DETR_COCO_image_nobin --data_dir ../mmdetection_at/pro_data/DETR_COCO/ --model_data_type DETR_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range nobin --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 10000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 1 --patch_nums 100 --enable_wandb >logs/ViT_DETR_COCO_image_nobin.logs 2>logs/ViT_DETR_COCO_image_nobin.err&

CUDA_VISIBLE_DEVICES=0 python3 train_mlp.py --name ViT_DETR_COCO_image_resnet --data_dir ../mmdetection_at/pro_data/DETR_COCO/ --model_data_type DETR_COCO --gradient_accumulation_steps 4   --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 10000 --learning_rate 0.03 --max_grad_norm 10 --ordinal_class_num 50 --enable_wandb >logs/ViT_DETR_COCO_image_resnet.logs 2>logs/ViT_DETR_COCO_image_resnet.err&

CUDA_VISIBLE_DEVICES=0 python3 train_mlp.py --name ViT_DETR_COCO_image_MLP --data_dir ../mmdetection_at/pro_data/DETR_COCO/ --model_data_type DETR_COCO --gradient_accumulation_steps 4   --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 100000 --eval_every 10000 --warmup_steps 10000 --learning_rate 0.03 --max_grad_norm 10 --ordinal_class_num 50 --enable_wandb >logs/ViT_DETR_COCO_image_MLP.logs 2>logs/ViT_DETR_COCO_image_MLP.err&

CUDA_VISIBLE_DEVICES=0 python3 train_at.py --name ViT_YOLOX_COCO_all --data_dir ../mmdetection_at/pro_data/YOLOX_COCO/ --model_data_type YOLOX_COCO --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 85 --num_steps 100000 --eval_every 10000 --warmup_steps 10000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 196 --enable_wandb >logs/ViT_YOLOX_COCO_all.logs 2>logs/ViT_YOLOX_COCO_all.err&


CityScapes:
# {"DETR_CITY": 0.98, "DEDETR_CITY": 0.98, "DELADETR_CITY": 0.99}
CUDA_VISIBLE_DEVICES=1 python3 train_at.py --name ViT_DETR_CITY_all --data_dir ~/code/DE-DETRs/pro_data/DETR_CITY/ --model_data_type DETR_CITY --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 10000 --eval_every 1000 --warmup_steps 1000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 100 --enable_wandb  >logs/ViT_DETR_CITY_all.logs 2>logs/ViT_DETR_CITY_all.err&

CUDA_VISIBLE_DEVICES=2 python3 train_at.py --name ViT_DEDETR_CITY_all --data_dir ~/code/DE-DETRs/pro_data/DEDETR_CITY/ --model_data_type DEDETR_CITY --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 10000 --eval_every 1000 --warmup_steps 1000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 100 --enable_wandb  >logs/ViT_DEDETR_CITY_all.logs 2>logs/ViT_DEDETR_CITY_all.err&

CUDA_VISIBLE_DEVICES=3 python3 train_at.py --name ViT_DELADETR_CITY_all --data_dir ~/code/DE-DETRs/pro_data/DELADETR_CITY/ --model_data_type DELADETR_CITY --gradient_accumulation_steps 4 --model_type ViT-B_32 --pretrained_dir ../ViT_ckpts/ViT-B_32.npz --loss_range all --train_batch_size 16 --eval_batch_size 16 --input_feature_dim 256 --num_steps 10000 --eval_every 1000 --warmup_steps 1000 --learning_rate 0.03 --enable_backbone_grad --max_grad_norm 10 --ordinal_class_num 50 --patch_nums 196 --enable_wandb  >logs/ViT_DELADETR_CITY_all.logs 2>logs/ViT_DELADETR_CITY_all.err&